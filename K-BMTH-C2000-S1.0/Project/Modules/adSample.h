


#ifndef __ADSAMPLE_H
#define __ADSAMPLE_H

/*------------------------------------------------------------------------------
********************************* 结构体 声明 **********************************
------------------------------------------------------------------------------*/
//AD温度采样
typedef struct
{
    u16 SmplCont;   //过采样计数
    u32 OverVal;    //求和，得到过采样值
    u32 SmplSum;    //为求平均，过采样累计值
    u8  AverageCont;//求平均计数
    u16 SmplVal;    //采样值
    u8  FlagOK;     //采样完成标志
}
Smpl_STRUCT;

/*----------------------------------------------------------------------------*/
//Pt100型热电偶采样
typedef struct
{
    u16 Zero_TL; //零位采样值
    u16 Full_TH; //满位采样值
}
Pt100_STRUCT;

/*------------------------------------------------------------------------------
********************************** 全局 变量 ***********************************
------------------------------------------------------------------------------*/
//AD温度采样
extern Smpl_STRUCT Pt100;//环境温度

//Pt100型热电偶标定值
extern Pt100_STRUCT Pt100Std;

//滤波缓冲数组
extern u16 DataFilter_Buff[5]; //上电赋初值
/*------------------------------------------------------------------------------
*********************************** 函数声明 ***********************************
------------------------------------------------------------------------------*/
s16 CalculateTemp(s16 filterval, s16 pb, s16 pl);//由采样滤波值计算温度值
s16 DataFilter(u16 sampleval);   //采样滤波函数

#endif
